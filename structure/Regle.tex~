\documentclass[a4paper]{article}
\usepackage[a4paper,margin=2cm]{geometry}
\usepackage[T1]{fontenc}
\usepackage{color}
\usepackage{alltt}
\usepackage{times}
\setlength{\fboxsep}{0pt}
\newcommand{\scitea}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.5, 0.5, 0.5}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\scitec}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.0, 0.5, 0.0}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\scited}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.2, 0.4, 0.2}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\scitee}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.0, 0.5, 0.5}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\scitef}[1]{\noindent{\ttfamily{\textbf{\textcolor[rgb]{0.0, 0.0, 0.5}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}}
\newcommand{\sciteg}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.5, 0.0, 0.5}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\scitek}[1]{\noindent{\ttfamily{\textbf{\textcolor[rgb]{0.0, 0.0, 0.0}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}}
\newcommand{\scitel}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.0, 0.0, 0.0}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\sciter}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.2, 0.4, 0.6}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\newcommand{\sciteib}[1]{\noindent{\ttfamily{\textcolor[rgb]{0.0, 0.0, 0.0}{\colorbox[rgb]{1.0, 1.0, 1.0}{#1}}}}}
\begin{document}

Source File: Regle.java

\noindent
\small{
\scitef{package}\scitea{ }\scitel{structure}\scitek{;}\scitea{} \\
\scitea{} \\
\scitef{import}\scitea{ }\scitel{java}\scitek{.}\scitel{util}\scitek{.}\scitel{ArrayList}\scitek{;}\scitea{} \\
\scitef{import}\scitea{ }\scitel{java}\scitek{.}\scitel{util}\scitek{.}\scitel{StringTokenizer}\scitek{;}\scitea{} \\
\scitea{} \\
\scited{/**} \\
\scited{ * Modélise une règle. Composée d'une hypothèse (liste d'atomes), et d'une} \\
\scited{ * conclusion (un Atome).} \\
\scited{ * } \\
\scited{ * }\sciter{$@$author}\scited{ ML Mugnier} \\
\scited{ * }\sciter{$@$author}\scited{ Thibaut Marmin} \\
\scited{ */}\scitea{} \\
\scitea{} \\
\scitef{public}\scitea{ }\scitef{class}\scitea{ }\scitel{Regle}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Atome}\scitek{$>$}\scitea{ }\scitel{hypothese}\scitek{;}\scitec{// la liste des atomes hypothèses} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitel{Atome}\scitea{ }\scitel{conclusion}\scitek{;}\scitec{// la conclusion de la règle} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$}\scitea{ }\scitel{ensembleTermes}\scitek{;}\scitec{// l'ensemble des termes présents} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// dans la règle} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Constructeur de la classe Regle.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ regle} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} la règle, sous forme sous forme textuelle ; cette forme est} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} "atome1;atome2;...atomek", où les (k-1) premiers atomes} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} forment l'hypothèse, et le dernier forme la conclusion} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{Regle}\scitek{(}\scitel{String}\scitea{ }\scitel{regle}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{t}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{hypothese}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Atome}\scitek{$>$();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{ensembleTermes}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$();}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{StringTokenizer}\scitea{ }\scitel{st}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{StringTokenizer}\scitek{(}\scitel{regle}\scitek{,}\scitea{ }\sciteg{";"}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{while}\scitea{ }\scitek{(}\scitel{st}\scitek{.}\scitel{hasMoreTokens}\scitek{())}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{String}\scitea{ }\scitel{s}\scitea{ }\scitek{=}\scitea{ }\scitel{st}\scitek{.}\scitel{nextToken}\scitek{();}\scitea{ }\scitec{// s représente un atome} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Atome}\scitea{ }\scitel{a}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{Atome}\scitek{(}\scitel{s}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{hypothese}\scitek{.}\scitel{add}\scitek{(}\scitel{a}\scitek{);}\scitec{// ajout de a à la liste des atomes de l'hypothèses} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// (pour l'instant)} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$}\scitea{ }\scitel{termes}\scitea{ }\scitek{=}\scitea{ }\scitel{a}\scitek{.}\scitel{getListeTermes}\scitek{();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{termes}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitel{i}\scitek{++)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{t}\scitea{ }\scitek{=}\scitea{ }\scitel{ajouterTerme}\scitek{(}\scitel{termes}\scitek{.}\scitel{get}\scitek{(}\scitel{i}\scitek{));}\scitea{ }\scitec{// ajout à la liste des termes} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{a}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{set}\scitek{(}\scitel{i}\scitek{,}\scitea{ }\scitel{t}\scitek{);}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitec{// on a mis tous les atomes créés en hypothèse} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitec{// reste à tranférer le dernier en conclusion} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{conclusion}\scitea{ }\scitek{=}\scitea{ }\scitel{hypothese}\scitek{.}\scitel{get}\scitek{(}\scitel{hypothese}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{hypothese}\scitek{.}\scitel{remove}\scitek{(}\scitel{hypothese}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Constructeur d'une règle sans hypothèse.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ A} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} l'atome correspondant à la conclusion} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{Regle}\scitek{(}\scitel{Atome}\scitea{ }\scitel{A}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{hypothese}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Atome}\scitek{$>$();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{ensembleTermes}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$();}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{conclusion}\scitea{ }\scitek{=}\scitea{ }\scitel{A}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{ensembleTermes}\scitek{.}\scitel{addAll}\scitek{(}\scitel{A}\scitek{.}\scitel{getListeTermes}\scitek{());}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Teste si la règle contient une hypothèse.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ Vrai si la règle possède une hypothèse vide, Faux sinon} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitef{boolean}\scitea{ }\scitel{sansHypothese}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitef{this}\scitek{.}\scitel{hypothese}\scitek{.}\scitel{isEmpty}\scitek{();}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Ajoute un terme à la liste des termes s'il n'existe pas déjà.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ t} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} le terme à potentiellement ajouter} \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ un sommet terme, soit t s'il a été inséré, soit le sommet terme} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} qui existait déjà dans la liste des sommets termes} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitel{Terme}\scitea{ }\scitel{ajouterTerme}\scitek{(}\scitel{Terme}\scitea{ }\scitel{t}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}}\scitec{// SI : dans le cas où le terme t n'existe pas déjà dans la liste des} \\
\scitea{\hspace*{1em}}\scitec{// sommets termes, on l'ajoute à la bonne place} \\
\scitea{\hspace*{1em}}\scitec{// et on lui donne comme voisin le sommet relation se trouvant à l'index} \\
\scitea{\hspace*{1em}}\scitec{// "index" dans la liste des sommets relations} \\
\scitea{\hspace*{1em}}\scitec{// Sinon, on ajoute le sommet relation se trouvant à l'index "index" dans la} \\
\scitea{\hspace*{1em}}\scitec{// liste des sommets relations au sommet terme déjà existant dans la liste} \\
\scitea{\hspace*{1em}}\scitec{// des sommets termes} \\
\scitea{\hspace*{1em}}\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{int}\scitek{[]}\scitea{ }\scitel{retour}\scitek{;}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{retour}\scitea{ }\scitek{=}\scitea{ }\scitel{positionDichoTerme}\scitek{(}\scitel{t}\scitek{);}\scitec{// on recherche la position où ajouter t} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{retour}\scitek{[}\scitee{0}\scitek{]}\scitea{ }\scitek{!=}\scitea{ }\scitek{-}\scitee{1}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{ensembleTermes}\scitek{.}\scitel{add}\scitek{(}\scitel{retour}\scitek{[}\scitee{1}\scitek{],}\scitea{ }\scitel{t}\scitek{);}\scitec{// Si t n'apparaissait pas} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// auparavant, on l'ajoute à la} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// liste des termes} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{ensembleTermes}\scitek{.}\scitel{get}\scitek{(}\scitel{retour}\scitek{[}\scitee{1}\scitek{]);}\scitec{// On retourne le terme, soit t} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// s'il a été inséré, soit le} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// terme qui existait déjà dans} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// la liste des termes} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Cherche la position où insérer le sommet terme 't'.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ t} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} le sommet terme à insérer} \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ la position où doit être ajoutée le sommet terme} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitef{int}\scitek{[]}\scitea{ }\scitel{positionDichoTerme}\scitek{(}\scitel{Terme}\scitea{ }\scitel{t}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}}\scitec{// SE : si t se trouve dans la liste des termes, retourne son indice.} \\
\scitea{\hspace*{1em}}\scitec{// sinon retourne l'indice où il devrait être inséré} \\
\scitea{\hspace*{1em}}\scitec{// SI : appelle la méthode positionDichoRecursif en indiquant comme} \\
\scitea{\hspace*{1em}}\scitec{// paramètre de recherche les} \\
\scitea{\hspace*{1em}}\scitec{// indices de début et de fin de la liste des termes (à savoir : 0 et} \\
\scitea{\hspace*{1em}}\scitec{// ensembleTermes.size()-1)} \\
\scitea{\hspace*{1em}}\scitec{// tableauRéponses : la première cellule est à -1 si le terme apparaît déjà} \\
\scitea{\hspace*{1em}}\scitec{// la seconde à la place où doit être inséré le terme} \\
\scitea{\hspace*{1em}}\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{int}\scitek{[]}\scitea{ }\scitel{tableauReponses}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitef{int}\scitek{[}\scitee{2}\scitek{];}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{ensembleTermes}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{$>$}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{positionDichoRecursifTerme}\scitek{(}\scitel{t}\scitek{.}\scitel{getLabel}\scitek{(),}\scitea{ }\scitee{0}\scitek{,}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{ensembleTermes}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{,}\scitea{ }\scitel{tableauReponses}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tableauReponses}\scitek{[}\scitee{0}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tableauReponses}\scitek{[}\scitee{1}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{tableauReponses}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scitef{private}\scitea{ }\scitef{int}\scitek{[]}\scitea{ }\scitel{positionDichoRecursifTerme}\scitek{(}\scitel{String}\scitea{ }\scitel{nom}\scitek{,}\scitea{ }\scitef{int}\scitea{ }\scitel{début}\scitek{,}\scitea{ }\scitef{int}\scitea{ }\scitel{fin}\scitek{,}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{int}\scitek{[]}\scitea{ }\scitel{tabReponses}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}}\scitec{// SE : recherche nom, de façon récursive, entre les indices début et fin de} \\
\scitea{\hspace*{1em}}\scitec{// la liste des termes. début et fin} \\
\scitea{\hspace*{1em}}\scitec{// doivent obligatoirement être positifs et inférieurs à la taille de la} \\
\scitea{\hspace*{1em}}\scitec{// liste des termes.} \\
\scitea{\hspace*{1em}}\scitec{// tabReponses : la première cellule est à -1 si le terme apparaît déjà} \\
\scitea{\hspace*{1em}}\scitec{// la seconde à la place où doit être inséré le terme} \\
\scitea{\hspace*{1em}}\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{début}\scitea{ }\scitek{$>$}\scitea{ }\scitel{fin}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tabReponses}\scitek{[}\scitee{0}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitel{début}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tabReponses}\scitek{[}\scitee{1}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitel{début}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{tabReponses}\scitek{;}\scitea{ }\scitec{// et on sort} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{int}\scitea{ }\scitel{milieu}\scitea{ }\scitek{=}\scitea{ }\scitek{(}\scitel{début}\scitea{ }\scitek{+}\scitea{ }\scitel{fin}\scitek{)}\scitea{ }\scitek{/}\scitea{ }\scitee{2}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{int}\scitea{ }\scitel{compare}\scitea{ }\scitek{=}\scitea{ }\scitel{ensembleTermes}\scitek{.}\scitel{get}\scitek{(}\scitel{milieu}\scitek{).}\scitel{getLabel}\scitek{().}\scitel{compareTo}\scitek{(}\scitel{nom}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{compare}\scitea{ }\scitek{==}\scitea{ }\scitee{0}\scitek{)}\scitec{// Si le terme de nom "nom" existe déjà} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tabReponses}\scitek{[}\scitee{0}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitek{-}\scitee{1}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tabReponses}\scitek{[}\scitee{1}\scitek{]}\scitea{ }\scitek{=}\scitea{ }\scitel{milieu}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{tabReponses}\scitek{;}\scitea{ }\scitec{// et on sort} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{compare}\scitea{ }\scitek{$>$}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{positionDichoRecursifTerme}\scitek{(}\scitel{nom}\scitek{,}\scitea{ }\scitel{début}\scitek{,}\scitea{ }\scitel{milieu}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{,}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{tabReponses}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{positionDichoRecursifTerme}\scitek{(}\scitel{nom}\scitek{,}\scitea{ }\scitel{milieu}\scitea{ }\scitek{+}\scitea{ }\scitee{1}\scitek{,}\scitea{ }\scitel{fin}\scitek{,}\scitea{ }\scitel{tabReponses}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Accesseur en lecture} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ l'hypothèse de la règle} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Atome}\scitek{$>$}\scitea{ }\scitel{getHypothese}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{hypothese}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Accesseur en lecture} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ la conclusion de la règle} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{Atome}\scitea{ }\scitel{getConclusion}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{conclusion}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Accesseur en lecture} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ l'ensemble de termes de la règle} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$}\scitea{ }\scitel{getEnsembleTermes}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{ensembleTermes}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Propositionalise la règle courante, en fonction des constantes passée en} \\
\scited{\hspace*{1em} * paramètres.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ Constantes} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} liste de termes constants sur lesquels la propositionalisation} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} est effectuée} \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ BF} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} la base de faits concernée par la propositionalisation (ajout} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} direct des faits dans le cas de règles sans hypothèse)} \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ La liste des règles créées par la propositionalisation (toutes} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} les règles instanciées possible avec les constantes passées en} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} paramètre)} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Regle}\scitek{$>$}\scitea{ }\scitel{propositionaliser}\scitek{(}\scitel{ArrayList}\scitek{$<$}\scitel{Terme}\scitek{$>$}\scitea{ }\scitel{Constantes}\scitek{,}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{BaseFaits}\scitea{ }\scitel{BF}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{ArrayList}\scitek{$<$}\scitel{Regle}\scitek{$>$}\scitea{ }\scitel{Regles}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{Regle}\scitek{$>$();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{SubstitutionsList}\scitea{ }\scitel{subList}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{SubstitutionsList}\scitek{();}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitef{this}\scitek{.}\scitel{completementInstancie}\scitek{())}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Regles}\scitek{.}\scitel{add}\scitek{(}\scitef{this}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{Regles}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{getEnsembleTermes}\scitek{().}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{i}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitef{this}\scitek{.}\scitel{getEnsembleTermes}\scitek{().}\scitel{get}\scitek{(}\scitel{i}\scitek{).}\scitel{estVariable}\scitek{())}\scitea{ }\scitek{\{}\scitea{ }\scitec{// Pour chaque} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// variable} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// de la} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// regle} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{variable}\scitea{ }\scitek{=}\scitea{ }\scitef{this}\scitek{.}\scitel{getEnsembleTermes}\scitek{().}\scitel{get}\scitek{(}\scitel{i}\scitek{);}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{ArrayList}\scitek{$<$}\scitel{CoupleTerme}\scitek{$>$}\scitea{ }\scitel{sub}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{ArrayList}\scitek{$<$}\scitel{CoupleTerme}\scitek{$>$();}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{j}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{j}\scitea{ }\scitek{$<$}\scitea{ }\scitel{Constantes}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{j}\scitek{)}\scitea{ }\scitek{\{}\scitea{ }\scitec{// Pour chaque} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// constant on} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// ajoute une} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// affectation} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// possible} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{constante}\scitea{ }\scitek{=}\scitea{ }\scitel{Constantes}\scitek{.}\scitel{get}\scitek{(}\scitel{j}\scitek{);}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{sub}\scitek{.}\scitel{add}\scitek{(}\scitef{new}\scitea{ }\scitel{CoupleTerme}\scitek{(}\scitel{variable}\scitek{,}\scitea{ }\scitel{constante}\scitek{));}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{subList}\scitea{ }\scitek{=}\scitea{ }\scitel{subList}\scitek{.}\scitel{produitCartesien}\scitek{(}\scitel{sub}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{subList}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{i}\scitek{)}\scitea{ }\scitek{\{}\scitea{ }\scitec{// Pour chaque substitution} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// on crée une nouvelle} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitec{// regle instanciée} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Substitution}\scitea{ }\scitel{S}\scitea{ }\scitek{=}\scitea{ }\scitel{subList}\scitek{.}\scitel{get}\scitek{(}\scitel{i}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{String}\scitea{ }\scitel{s}\scitea{ }\scitek{=}\scitea{ }\sciteg{""}\scitek{;}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitef{this}\scitek{.}\scitel{sansHypothese}\scitek{())}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getLabel}\scitek{()}\scitea{ }\scitek{+}\scitea{ }\sciteg{"("}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{j}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{j}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{j}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{j}\scitea{ }\scitek{$>$}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{","}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{T}\scitea{ }\scitek{=}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{get}\scitek{(}\scitel{j}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{T}\scitek{.}\scitel{estConstante}\scitek{())}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{T}\scitek{.}\scitel{getLabel}\scitek{();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{S}\scitek{.}\scitel{getSubstitutionFor}\scitek{(}\scitel{T}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{")"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Atome}\scitea{ }\scitel{A}\scitea{ }\scitek{=}\scitea{ }\scitef{new}\scitea{ }\scitel{Atome}\scitek{(}\scitel{s}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{BF}\scitek{.}\scitel{ajouterNouveauFait}\scitek{(}\scitel{A}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{ }\scitef{else}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{j}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{j}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{hypothese}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{j}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{j}\scitea{ }\scitek{$>$}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{";"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Atome}\scitea{ }\scitel{A}\scitea{ }\scitek{=}\scitea{ }\scitef{this}\scitek{.}\scitel{hypothese}\scitek{.}\scitel{get}\scitek{(}\scitel{j}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{j}\scitea{ }\scitek{$<$}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{";"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{A}\scitek{.}\scitel{getLabel}\scitek{();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{k}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{k}\scitea{ }\scitek{$<$}\scitea{ }\scitel{A}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{k}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{T}\scitea{ }\scitek{=}\scitea{ }\scitel{A}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{get}\scitek{(}\scitel{k}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{k}\scitea{ }\scitek{==}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"("}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{","}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{T}\scitek{.}\scitel{estConstante}\scitek{())}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"'"}\scitea{ }\scitek{+}\scitea{ }\scitel{T}\scitek{.}\scitel{getLabel}\scitek{()}\scitea{ }\scitek{+}\scitea{ }\sciteg{"'"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{S}\scitek{.}\scitel{getSubstitutionFor}\scitek{(}\scitel{T}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{")"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{";"}\scitea{ }\scitek{+}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getLabel}\scitek{();}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{j}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{j}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{j}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Terme}\scitea{ }\scitel{T}\scitea{ }\scitek{=}\scitea{ }\scitef{this}\scitek{.}\scitel{conclusion}\scitek{.}\scitel{getListeTermes}\scitek{().}\scitel{get}\scitek{(}\scitel{j}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{j}\scitea{ }\scitek{==}\scitea{ }\scitee{0}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"("}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{","}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{T}\scitek{.}\scitel{estConstante}\scitek{())}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"'"}\scitea{ }\scitek{+}\scitea{ }\scitel{T}\scitek{.}\scitel{getLabel}\scitek{()}\scitea{ }\scitek{+}\scitea{ }\sciteg{"'"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{else}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{S}\scitek{.}\scitel{getSubstitutionFor}\scitek{(}\scitel{T}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{")"}\scitek{;}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Regles}\scitek{.}\scitel{add}\scitek{(}\scitef{new}\scitea{ }\scitel{Regle}\scitek{(}\scitel{s}\scitek{));}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{Regles}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Indique si la règle est validée par la base de faits passée en paramètre.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$param}\scited{ BF} \\
\scited{\hspace*{1em} *{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}}{\hspace*{1em}} une base de fait} \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ Vrai si la base de fait valide le règle, Faux sinon} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitef{boolean}\scitea{ }\scitel{validePar}\scitek{(}\scitel{BaseFaits}\scitea{ }\scitel{BF}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{getHypothese}\scitek{().}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{i}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{Atome}\scitea{ }\scitel{A}\scitea{ }\scitek{=}\scitea{ }\scitef{this}\scitek{.}\scitel{getHypothese}\scitek{().}\scitel{get}\scitek{(}\scitel{i}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(!}\scitel{BF}\scitek{.}\scitel{atomeExiste}\scitek{(}\scitel{A}\scitek{))}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{false}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{true}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * Indique si la règle est complètement instanciée ou non.} \\
\scited{\hspace*{1em} * } \\
\scited{\hspace*{1em} * }\sciter{$@$return}\scited{ Vrai si la règle ne comporte que des constantes, faux sinon} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitef{boolean}\scitea{ }\scitel{completementInstancie}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitef{this}\scitek{.}\scitel{ensembleTermes}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitek{++}\scitel{i}\scitek{)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitef{this}\scitek{.}\scitel{ensembleTermes}\scitek{.}\scitel{get}\scitek{(}\scitel{i}\scitek{).}\scitel{estVariable}\scitek{())}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{false}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{true}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitea{\hspace*{1em}}\scited{/**} \\
\scited{\hspace*{1em} * toString de la règle. Affiche la taille de l'hypothèse, la liste des} \\
\scited{\hspace*{1em} * atomes, la conclusion et la liste des termes de la règle.} \\
\scited{\hspace*{1em} */}\scitea{} \\
\scitea{\hspace*{1em}}\scitef{public}\scitea{ }\scitel{String}\scitea{ }\scitel{toString}\scitek{()}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{String}\scitea{ }\scitel{s}\scitea{ }\scitek{=}\scitea{ }\sciteg{"taille hypothèse : "}\scitea{ }\scitek{+}\scitea{ }\scitel{hypothese}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{+}\scitea{ }\sciteg{"{\textbackslash}n"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"liste des atomes : "}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{hypothese}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitel{i}\scitek{++)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{hypothese}\scitek{.}\scitel{get}\scitek{(}\scitel{i}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{hypothese}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{","}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{" --$>$ "}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{conclusion}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"{\textbackslash}n"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{"liste des termes : "}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{for}\scitea{ }\scitek{(}\scitef{int}\scitea{ }\scitel{i}\scitea{ }\scitek{=}\scitea{ }\scitee{0}\scitek{;}\scitea{ }\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{ensembleTermes}\scitek{.}\scitel{size}\scitek{();}\scitea{ }\scitel{i}\scitek{++)}\scitea{ }\scitek{\{}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\scitel{ensembleTermes}\scitek{.}\scitel{get}\scitek{(}\scitel{i}\scitek{);}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitef{if}\scitea{ }\scitek{(}\scitel{i}\scitea{ }\scitek{$<$}\scitea{ }\scitel{ensembleTermes}\scitek{.}\scitel{size}\scitek{()}\scitea{ }\scitek{-}\scitea{ }\scitee{1}\scitek{)}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}\hspace*{1em}\hspace*{1em}}\scitel{s}\scitea{ }\scitek{+=}\scitea{ }\sciteg{" ; "}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{\hspace*{1em}\hspace*{1em}}\scitef{return}\scitea{ }\scitel{s}\scitea{ }\scitek{+}\scitea{ }\sciteg{"{\textbackslash}n"}\scitek{;}\scitea{} \\
\scitea{\hspace*{1em}}\scitek{\}}\scitea{} \\
\scitea{} \\
\scitek{\}}
} %end small

\end{document}
